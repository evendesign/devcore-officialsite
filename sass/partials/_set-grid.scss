// slim 與 scss 架構為 .classname.grid-xyz .grid（x, y, z 為任一數值）
// 注意事項：若設定 columns 值不能給 susy 的 total_columns 整除，將無法正常顯示
@mixin set-grid($phone-columns: 1, $pad-columns: $phone-columns, $desktop-columns: $pad-columns){

  &.grid-s#{$phone-columns}m#{$pad-columns}l#{$desktop-columns} .grid{

    @include trailer(1);

    // set-span-columns
    @include span-columns( $total_columns / $phone-columns, $total_columns );

    // set nth-omega
    @if $phone-columns > 1 {
      @include nth-omega($phone-columns + n);
    }

    @include at-breakpoint($pad) {

      // set span-columns
      @if $pad-columns == 3 {
        @include span-columns($pad-columns, 9 );
      } @else {
        @include span-columns( $total_columns / $pad-columns, $total_columns );
      }

      // remove-nth-omega
      @if $phone-columns > 1 {
        @include remove-nth-omega($phone-columns + n, child, $total_columns);
      }

      // set nth-omega
      @if $pad-columns > 1 {
        @include nth-omega($pad-columns + n);
      }

    } // end pad

    @include at-breakpoint($desktop) {

      // set span-columns
      @include span-columns( $total_columns / $desktop-columns, $total_columns);

      // remove-nth-omega
      @if $pad-columns > 1 {
        @include remove-nth-omega($pad-columns + n, child, $total_columns);
      }

      // set nth-omega
      @if $desktop-columns > 1 {
        @include nth-omega( $desktop-columns + n );
      }

    } // end desktop

  }

}

.row {

  @include pie-clearfix;
  @include trailer(1);
  background-color: #f3f3f3;

  // 控制 .row 底下 .col 的排版
  @include set-grid(1, 2);
  @include set-grid(1, 3);
  @include set-grid(1, 4);
  @include set-grid(1, 2, 4);
  @include set-grid(2, 2, 4);

}



