.wrapper {
	@include transform-style(preserve-3d);
	@include perspective(1000px);
	@include transition(.5s);
}

.header {
	.main-nav {
		display: block;
		float: right;
		margin-top: -#{rhythm(2)};
		padding: 0;
		li {
			display: none;
			&.menu-button {
				position: relative;
				display: inline-block;
				color: $color-gray;
				letter-spacing: -5px;
				background-color: transparent;
			}
		}
	}
	@include at-breakpoint($pad) {
		.main-nav {
			margin: 0;
			padding-top: rhythm(.5);
		  li {
				display: inline-block;
			}
		}
	}
}

// basic
.off-canvas {
	.outside-inner {
		width: 100%;
		max-width: 1280px;
		margin: 0 auto;
	}
	.outside {
		display: block;
		width: 100%;
		@include background-image(
			linear-gradient(to bottom, rgba($color-lighter-gray, 1) 10%, rgba($color-lighter-gray, 0) 50%, rgba($color-lighter-gray, 0) 100%)
		);
		@include background-size(100% 200%);
		background-position: 0 100%;
		@include transition(.5s);
		.main-nav {
			position: relative;
			display: block;
			$container-style: fluid;
		  @include container();
		  max-width: 85%;
			text-align: left;
			@include text-shadow(0 0 10px white);
			ul {
				@include padding-leader(2);
				li {
					display: block;
					a {
						@include adjust-font-size-to($font-size-l);
					}
					ul {
						margin-top: rhythm(.5);
						padding: rhythm(.25) rhythm(.5);
						border-left: 1px solid $color-black;
						li a {
							@include adjust-font-size-to($font-size-m);
						}
					}
				}
				li + li {
					padding-top: rhythm(.5);
				}
			}
			.close {
				position: absolute;
				top: 0;
				right: 24px;
				z-index: 1000;
				text-align: center;
				@include adjust-font-size-to($font-size-xxl);
				cursor: pointer;
			}
		}
	}
	.page {
		@include transform-origin(center, bottom);
	}
	.off-canvas-mask {
		background-color: rgba(black,0);
		@include transition( background-color .5s);
	}
	@include at-breakpoint($desktop) {
		.main-nav .close {
		  top: 24px;
		  padding: 0 rhythm(.5);
		}
	}
}

// layout
.off-canvas.model {
	.wrapper {
		height: 100%;
	}
	.page {
		height: 100%;
	}
	.off-canvas-mask {
		height: 100%;
	}
}

// animate
.off-canvas.open-menu {
	.outside {
		z-index: 1000;
		background-position: 0 0;
	}
	.page {
		@include translateZ(-1000px);
		@include rotateX(45deg);
		// @include filter(blur(2px));
	}
	.off-canvas-mask {
		background-color: rgba($color-lighter-gray,.7);
	}
}
